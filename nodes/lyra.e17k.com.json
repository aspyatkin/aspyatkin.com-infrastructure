{
  "environment": "production",
  "run_list": [
    "recipe[locale::default]",
    "recipe[build-essential::default]",
    "recipe[ufw::default]",
    "recipe[ntp::default]",
    "recipe[poise-python::default]",
    "recipe[latest-git::default]",
    "recipe[latest-nodejs::default]",
    "recipe[dotfiles::default]",
    "recipe[dhparam::default_key]",
    "recipe[ngx::default]",
    "recipe[nginx-amplify::default]",
    "recipe[aspyatkin-com::default]",
    "recipe[redirect::default]"
  ],
  "aspyatkin-com": {
    "fqdn": "aspyatkin.com"
  },
  "automatic": {
    "fqdn": "lyra.e17k.com"
  },
  "firewall": {
    "ufw": {
      "defaults": {
        "ipv6": "yes",
        "manage_builtins": "no",
        "ipt_sysctl": "/etc/ufw/sysctl.conf",
        "ipt_modules": "nf_conntrack_ftp nf_nat_ftp nf_conntrack_netbios_ns",
        "policy": {
          "input": "DROP",
          "output": "ACCEPT",
          "forward": "DROP",
          "application": "SKIP"
        }
      }
    },
    "rules": [
      {
        "http": {
          "port": 80,
          "protocol": "tcp"
        }
      },
      {
        "https": {
          "port": 443,
          "protocol": "tcp"
        }
      }
    ]
  },
  "ngx": {
    "install": "mainline",
    "with_status": true,
    "with_realip": true
  },
  "redirect": {
    "hosts": [
      {
        "fqdn": "www.aspyatkin.com",
        "target": "aspyatkin.com",
        "listen_ipv6": true,
        "secure": true,
        "permanent": true,
        "pass_request_uri": true,
        "ec_certificates": true
      }
    ]
  }
}
